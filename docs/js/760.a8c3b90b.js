"use strict";(self["webpackChunkturbodega_example"]=self["webpackChunkturbodega_example"]||[]).push([[760],{2760:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ce});var l=a(3673),o=a(2323);const c=e=>((0,l.dD)("data-v-0a129e4f"),e=e(),(0,l.Cn)(),e),n={class:"col"},i=c((()=>(0,l._)("div",{class:"q-pb-md"},[(0,l._)("span",{class:"page-title"},"Mis Productos")],-1))),r={class:"row justify-between"},u={class:""},d={class:"row"},s=(0,l.Uk)(" Sin resultados "),p={class:"self-center"},m={class:"row"},g=(0,l.Uk)("Carnes"),w=(0,l.Uk)("Lácteos"),f=(0,l.Uk)("Tipo"),h=(0,l.Uk)("Nombre"),_={class:"q-pa-lg flex flex-center"},y={class:"row q-pt-md"};function C(e,t,a,c,C,W){const P=(0,l.up)("q-icon"),v=(0,l.up)("q-item-label"),k=(0,l.up)("q-item-section"),b=(0,l.up)("q-item"),D=(0,l.up)("q-select"),Z=(0,l.up)("TbButton"),q=(0,l.up)("q-list"),Q=(0,l.up)("q-btn-dropdown"),U=(0,l.up)("q-pagination"),H=(0,l.up)("Card"),I=(0,l.up)("q-page"),V=(0,l.Q2)("close-popup");return(0,l.wg)(),(0,l.j4)(I,{class:"row q-pa-md"},{default:(0,l.w5)((()=>[(0,l._)("div",n,[i,(0,l._)("div",r,[(0,l._)("div",u,[(0,l._)("div",d,[(0,l.Wm)(D,{filled:"",modelValue:e.model,"onUpdate:modelValue":t[0]||(t[0]=t=>e.model=t),"use-input":"","input-debounce":"0",label:"Buscar productos",options:e.searchOptions,onFilter:e.filterFn,style:{width:"250px"},behavior:"menu","display-value":`${e.model?e.model.data.productName:""}`},{append:(0,l.w5)((()=>[(0,l.Wm)(P,{name:"search"})])),option:(0,l.w5)((e=>[(0,l.Wm)(b,(0,o.vs)((0,l.F4)(e.itemProps)),{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.opt.data.productName),1)])),_:2},1024)])),_:2},1024)])),_:2},1040)])),"no-option":(0,l.w5)((()=>[(0,l.Wm)(b,null,{default:(0,l.w5)((()=>[(0,l.Wm)(k,{class:"text-grey"},{default:(0,l.w5)((()=>[s])),_:1})])),_:1})])),_:1},8,["modelValue","options","onFilter","display-value"]),(0,l.Wm)(Z,{label:"Buscar",class:"self-center q-pl-lg"})])]),(0,l._)("div",p,[(0,l._)("div",m,[(0,l.Wm)(Q,{flat:"","no-caps":"",style:{background:"white",color:"#606060"},label:"Categoría"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(b,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[g])),_:1})])),_:1})])),_:1},512),[[V]]),(0,l.wy)((0,l.Wm)(b,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[w])),_:1})])),_:1})])),_:1},512),[[V]])])),_:1})])),_:1}),(0,l.Wm)(Q,{flat:"","no-caps":"",style:{background:"white",color:"#606060"},label:"Ordenar por"},{default:(0,l.w5)((()=>[(0,l.Wm)(q,null,{default:(0,l.w5)((()=>[(0,l.wy)((0,l.Wm)(b,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[f])),_:1})])),_:1})])),_:1},512),[[V]]),(0,l.wy)((0,l.Wm)(b,{clickable:""},{default:(0,l.w5)((()=>[(0,l.Wm)(k,null,{default:(0,l.w5)((()=>[(0,l.Wm)(v,null,{default:(0,l.w5)((()=>[h])),_:1})])),_:1})])),_:1},512),[[V]])])),_:1})])),_:1}),(0,l.Wm)(Z,{label:"Crear Producto",icon_right:"add",class:"self-center q-pl-lg",onClick:e.createProduct},null,8,["onClick"])])])]),(0,l._)("div",_,[(0,l.Wm)(U,{modelValue:e.page,"onUpdate:modelValue":t[1]||(t[1]=t=>e.page=t),min:e.currentPage,max:Math.ceil(e.productList.length/e.itemsPerPage),"input-class":"text-orange-10"},null,8,["modelValue","min","max"])]),(0,l._)("div",y,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(e.getData,(t=>((0,l.wg)(),(0,l.j4)(H,(0,l.dG)(t.data,{key:t.key,onClick:a=>e.openEditProductDialog(t.key),class:"cursor-pointer"}),null,16,["onClick"])))),128))])])])),_:1})}var W=a(1959);function P(e,t,a,o,c,n){const i=(0,l.up)("q-btn");return(0,l.wg)(),(0,l.iD)("div",null,[(0,l.Wm)(i,{"no-caps":"",color:"primary",label:e.label,"icon-right":e.icon_right},null,8,["label","icon-right"])])}const v=(0,l.aZ)({name:"TbButton",props:{label:{type:String},icon_right:{type:String}},setup(){}});var k=a(2165),b=a(7518),D=a.n(b);v.render=P;const Z=v;function q(e,t,a,c,n,i){const r=(0,l.up)("q-img"),u=(0,l.up)("q-card-section"),d=(0,l.up)("q-card");return(0,l.wg)(),(0,l.j4)(d,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(r,{class:"col-6 self-center",src:e.image_url,style:{height:"150px"}},null,8,["src"]),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Uk)((0,o.zw)(e.productName),1)])),_:1})])),_:1})])),_:1})}D()(v,"components",{QBtn:k.Z});const Q=(0,l.aZ)({name:"Card",props:{productName:{type:String},image_url:{type:String}}});var U=a(151),H=a(5589),I=a(4027);Q.render=q,Q.__scopeId="data-v-2d93ba37";const V=Q;D()(Q,"components",{QCard:U.Z,QCardSection:H.Z,QImg:I.Z});var x=a(8825);function L(e,t,a,o,c,n){const i=(0,l.up)("q-img"),r=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),d=(0,l.up)("q-card"),s=(0,l.up)("q-btn"),p=(0,l.up)("q-card-actions"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(m,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"q-dialog-plugin"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"col-6 self-center",src:o.imageUrl||"https://picsum.photos/150",style:{height:"150px"}},null,8,["src"]),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:o.title,"onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),label:"Product title"},null,8,["modelValue"]),(0,l.Wm)(r,{modelValue:o.imageUrl,"onUpdate:modelValue":t[1]||(t[1]=e=>o.imageUrl=e),label:"Image url"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(p,{align:"center"},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"primary",label:"OK",onClick:o.onOKClick},null,8,["onClick"]),(0,l.Wm)(s,{color:"primary",label:"Cancelar",onClick:o.onCancelClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}a(71);var E=a(1701),K=a(3617);const O=()=>{const e=(0,K.oR)();return{productList:(0,W.Fl)((()=>e.getters["products/getProductList"])),async fetchData(){await e.dispatch("products/fetchData")},async searchProduct(t){try{return await e.dispatch("products/searchProduct",t)}catch(a){throw a}},async viewProduct(t){try{return await e.dispatch("products/viewProduct",t)}catch(a){throw a}},async addProduct(t){try{await e.dispatch("products/addProduct",t),await e.dispatch("products/fetchData")}catch(a){throw a}},async editProduct(t){try{await e.dispatch("products/editProduct",t),await e.dispatch("products/fetchData")}catch(a){throw a}},async deleteProduct(t){try{await e.dispatch("products/deleteProduct",t),await e.dispatch("products/fetchData")}catch(a){throw a}}}},S=O,N={props:{},emits:[...E.Z.emits],setup(){const{dialogRef:e,onDialogHide:t,onDialogOK:a,onDialogCancel:l}=(0,E.Z)(),o=(0,W.iH)(""),c=(0,W.iH)(""),{addProduct:n}=S();return{title:o,imageUrl:c,dialogRef:e,onDialogHide:t,async onOKClick(){try{if(!o.value)return;await n({productName:o.value,image_url:c.value||"https://picsum.photos/150"}),a()}catch(e){console.log(e)}},onCancelClick:l}}};var B=a(6778),T=a(4842),R=a(9367);N.render=L,N.__scopeId="data-v-8cf5aa66";const j=N;function F(e,t,a,o,c,n){const i=(0,l.up)("q-img"),r=(0,l.up)("q-input"),u=(0,l.up)("q-card-section"),d=(0,l.up)("q-card"),s=(0,l.up)("q-btn"),p=(0,l.up)("q-card-actions"),m=(0,l.up)("q-dialog");return(0,l.wg)(),(0,l.j4)(m,{ref:"dialogRef",onHide:o.onDialogHide},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"q-dialog-plugin"},{default:(0,l.w5)((()=>[(0,l.Wm)(d,{class:"my-card"},{default:(0,l.w5)((()=>[(0,l.Wm)(u,{horizontal:""},{default:(0,l.w5)((()=>[(0,l.Wm)(i,{class:"col-6 self-center",src:o.imageUrl||"https://picsum.photos/150",style:{height:"150px"}},null,8,["src"]),(0,l.Wm)(u,null,{default:(0,l.w5)((()=>[(0,l.Wm)(r,{modelValue:o.title,"onUpdate:modelValue":t[0]||(t[0]=e=>o.title=e),label:"Product title"},null,8,["modelValue"]),(0,l.Wm)(r,{modelValue:o.imageUrl,"onUpdate:modelValue":t[1]||(t[1]=e=>o.imageUrl=e),label:"Image url"},null,8,["modelValue"])])),_:1})])),_:1})])),_:1}),(0,l.Wm)(p,{align:"evenly",style:{margin:"10px"}},{default:(0,l.w5)((()=>[(0,l.Wm)(s,{color:"secondary",label:"Cancelar",onClick:o.onCancelClick},null,8,["onClick"]),(0,l.Wm)(s,{color:"primary",label:"Editar",onClick:o.onEDITClick},null,8,["onClick"]),(0,l.Wm)(s,{color:"negative",label:"Eliminar",onClick:o.onDELETEClick},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onHide"])}D()(N,"components",{QDialog:B.Z,QCard:U.Z,QCardSection:H.Z,QImg:I.Z,QInput:T.Z,QCardActions:R.Z,QBtn:k.Z});const z={props:{productKey:{type:String}},emits:[...E.Z.emits],async mounted(){const e=await this.viewProduct(this.props.productKey);let{productName:t,image_url:a}=e;this.title=t,this.imageUrl=a},setup(e){const{dialogRef:t,onDialogHide:a,onDialogOK:l,onDialogCancel:o}=(0,E.Z)(),c=(0,W.iH)(""),n=(0,W.iH)(""),{viewProduct:i,deleteProduct:r,editProduct:u}=S();return{props:e,title:c,imageUrl:n,viewProduct:i,dialogRef:t,onDialogHide:a,async onEDITClick(){try{await u({condition:e.productKey,payloadData:{productName:c.value,image_url:n.value}}),l()}catch(t){console.log(t)}},async onDELETEClick(){try{await r(e.productKey),l()}catch(t){console.log(t)}},onCancelClick:o}}};z.render=F,z.__scopeId="data-v-225473ac";const A=z;D()(z,"components",{QDialog:B.Z,QCard:U.Z,QCardSection:H.Z,QImg:I.Z,QInput:T.Z,QCardActions:R.Z,QBtn:k.Z});const M=(0,l.aZ)({name:"PageIndex",components:{Card:V,TbButton:Z},methods:{async createProduct(){this.openAddProductDialog()}},computed:{getData(){return this.productList.slice((this.page-1)*this.itemsPerPage,(this.page-1)*this.itemsPerPage+this.itemsPerPage)}},setup(){const e=(0,x.Z)(),t=(0,W.iH)(null),{productList:a,fetchData:o,searchProduct:c}=S(),n=(0,W.iH)(1),i=(0,W.iH)(1),r=(0,W.iH)(null),u=(0,W.iH)(5);function d(){e.dialog({component:j}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}function s(t){if(!t)return console.log("No Product for editing/delete");e.dialog({component:A,componentProps:{productKey:t}}).onOk((()=>{})).onCancel((()=>{})).onDismiss((()=>{}))}function p(e,l){l(""!==e?()=>{const l=e.toLowerCase();t.value=a.value.filter((e=>e.data.productName.toLowerCase().indexOf(l)>-1))}:()=>{t.value=a.value})}return(0,l.bv)((()=>{o(),t.value=a.value})),{productList:a,page:n,currentPage:i,nextPage:r,itemsPerPage:u,model:(0,W.iH)(null),searchOptions:t,filterFn:p,openEditProductDialog:s,openAddProductDialog:d,fetchData:o,searchProduct:c}}});var G=a(4379),Y=a(7236),$=a(4554),J=a(3414),X=a(2035),ee=a(2350),te=a(2670),ae=a(7011),le=a(7300),oe=a(677);M.render=C,M.__scopeId="data-v-0a129e4f";const ce=M;D()(M,"components",{QPage:G.Z,QSelect:Y.Z,QIcon:$.Z,QItem:J.Z,QItemSection:X.Z,QItemLabel:ee.Z,QBtnDropdown:te.Z,QList:ae.Z,QPagination:le.Z}),D()(M,"directives",{ClosePopup:oe.Z})}}]);